<UserControl x:Class="Jean_Doe.MusicControl.SearchControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:common="clr-namespace:Jean_Doe.Common;assembly=Jean_Doe.Common" 
             xmlns:xiami="clr-namespace:Xiami;assembly=Xiami" 
             xmlns:local="clr-namespace:Jean_Doe.MusicControl"
             mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Jean_Doe.MusicControl;component/Themes/TouchButtonStyle.xaml" />
                <ResourceDictionary>
                    <common:EnumSearchType x:Key="enumkey">key</common:EnumSearchType>
                    <common:EnumSearchType x:Key="enumurl">url</common:EnumSearchType>
                    <xiami:EnumXiamiType x:Key="song">song</xiami:EnumXiamiType>
                    <xiami:EnumXiamiType x:Key="artist">artist</xiami:EnumXiamiType>
                    <xiami:EnumXiamiType x:Key="album">album</xiami:EnumXiamiType>
                    <xiami:EnumXiamiType x:Key="collect">collect</xiami:EnumXiamiType>
                    <xiami:EnumXiamiType x:Key="any">any</xiami:EnumXiamiType>
                </ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <!--search options-->
            <ToggleButton Margin="1"
                          Focusable="False"
                          x:Name="toggle_option"
                          ToolTip="搜索选项"></ToggleButton>
            <Popup AllowsTransparency="True"
                   IsOpen="{Binding IsChecked,ElementName=toggle_option}"
                   StaysOpen="False"
                   PopupAnimation="Slide"
                   PlacementTarget="{Binding ElementName=toggle_option}"
                   Placement="Bottom">
                <Grid Background="#333333">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <TextBlock Text="搜索方式"
                               VerticalAlignment="Center"
                               Foreground="#bbbbbb" />
                    <TextBlock Text="结果类型"
                               VerticalAlignment="Center"
                               Foreground="#bbbbbb"
                               Grid.Row="1" />
                    <ComboBox x:Name="combo_search_type"
                              Grid.Column="1"
                              SelectionChanged="combo_search_type_SelectionChanged_1">
                        <ComboBoxItem Content="关键词"
                                      Tag="{StaticResource enumkey}" />
                        <ComboBoxItem  Content="网址"
                                       Tag="{StaticResource enumurl}" />
                    </ComboBox>
                    <ComboBox x:Name="combo_xiami_type"
                              Grid.Column="1"
                              Grid.Row="1"
                              SelectionChanged="combo_xiami_type_SelectionChanged_1">
                        <ComboBoxItem Content="所有"
                                      Tag="{StaticResource any}" />
                        <ComboBoxItem Content="歌曲"
                                      Tag="{StaticResource song}" />
                        <ComboBoxItem  Content="艺术家"
                                       Tag="{StaticResource artist}" />
                        <ComboBoxItem  Content="专辑"
                                       Tag="{StaticResource album}" />
                        <ComboBoxItem  Content="精选集"
                                       Tag="{StaticResource collect}" />
                    </ComboBox>
                </Grid>
            </Popup>
            <!--search box-->
            <local:HistorySearch  x:Name="hs"
                                  Grid.Column="1"
                                  HorizontalContentAlignment="Left" />
            <!--button search-->
            <Button x:Name="btn_search"
                    Style="{DynamicResource StyleSearchButton}"
                    Width="70"
                    Grid.Column="2"
                    IsDefault="True"
                    Background="{DynamicResource skinBrush}"
                    Margin="1">
                <Grid>
                    <Image Source="../Resources/search.png"
                           x:Name="img_search"
                           Width="20"
                           Height="20" />
                    <Image Source="../Resources/stop.png"
                           x:Name="img_stop"
                           Visibility="Collapsed"
                           Width="20"
                           Height="20" />
                </Grid>
            </Button>
        </Grid>
        <GridSplitter Width="2"
                      Margin="1"
                      Background='Transparent'
                      HorizontalAlignment="Right" />
    </Grid>
</UserControl>
